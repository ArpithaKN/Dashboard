
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Complaint Form</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="style_1.css" rel="stylesheet" type="text/css"/>
        <script src="jquery-3.2.0.min.js" type="text/javascript"></script>
        <script src="bootstrap.min.js" type="text/javascript"></script>
        <script src="sweetalert2.js" type="text/javascript"></script>
        <script src="angular.min.js" type="text/javascript"></script>
        <link href="https://cdn.jsdelivr.net/sweetalert2/6.1.0/sweetalert2.css" rel="stylesheet"/>
        <script src="app.js"></script>
    </head>
    <body>
        <div class="container">
            <div ng-app="myApp" ng-controller="customersCtrl">  
                <div id="demo"> <h2>Complaints</h2></div>
                <div class="tab-content">
                        <div id="cashmode1"><form>
        <label for="name"><b>Name</b>&nbsp;<span style="color: red">*</span></label>
       
        <input type="text" id="name" name="name" placeholder="Enter your name" >
        <label id="lblname" style="color: red;"></label>
        
        <label for="email"><b>Email</b>&nbsp;<span style="color: red">*</span></label>
       
        <input type="text" id="email" name="email" placeholder="Enter your email">
        <label id="lblemail" style="color: red;"></label>
        <br>
        <br>
        <label for="phone"><b>Mobile </b>&nbsp;<span style="color: red">*</span></label>
       <!--<input type="" name="quantity" min="1" max="5">-->
        <input type="number" id="phone" name="phone" placeholder="Enter phone number" maxlength="10">
        <label id="lblphone" style="color: red;"></label>
       
        <label for="subject"><b>Ticket Subject
</b>&nbsp;<span style="color: red">*</span></label>
     
        <input type="text" id="subject" name="subject" placeholder="Enter a subject" maxlength="50">
        <label id="lblsubject" style="color: red;"></label>
        <br>
        <label for="description"><b>Description
</b>&nbsp;<span style="color: red">*</span></label>
        <br>
        <textarea  id="description" name="description" placeholder="Enter a description" maxlength="500"                 
style = "width: 100%;" rows="4" cols="50">
        </textarea> 
        <label id="lbldescription" style="color: red;"></label>

       <br>
        
        <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="Submit" id="btnSubmit" onclick="myFunction()">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label id="lblsuccess"></label>
        <br>
        <br>
    </form>
                        </div>
    
                </div>
            </div>
        </div>
        <script>
    function myFunction()
    {
        var _name = document.getElementById("name").value;
        var _email = document.getElementById("email").value;
        var _phone = document.getElementById("phone").value;
        var _subject = document.getElementById("subject").value;
        var _description = document.getElementById("description").value;

        if(_name == "" || _name == null)
        {
            document.getElementById("lblname").innerHTML = "Enter your name";
            return false;
        }
        document.getElementById("lblname").innerHTML = "";

        if(_email == "" || _email == null)
        {
            document.getElementById("lblemail").innerHTML = "Enter your email";
            return false;
        }
        document.getElementById("lblemail").innerHTML = "";

        if(_phone == "" || _phone == null)
        {
            document.getElementById("lblphone").innerHTML = "Enter phone Number";
            return false;
        }
        if(_phone.length != 10)
        {
            document.getElementById("lblphone").innerHTML = "Phone Number is not valid";
            return false;
        }
        document.getElementById("lblphone").innerHTML = "";

        if(_subject == "" || _subject == null)
        {
            document.getElementById("lblsubject").innerHTML = "Enter a subject";
            return false;
        }
        document.getElementById("lblsubject").innerHTML = "";
        
        if(_description === "" || _description === null)
        {
            document.getElementById("lbldescription").innerHTML = "Enter a Description";
            return false;
        }
        document.getElementById("lbldescription").innerHTML = "";
       

//        var URL = "https://www.mytrintrin.com:13060/api/ticket";
       var URL = "http://43.251.80.79:13060/api/tickets";

        var dataObject = {'phoneNumber':_phone,'name': _name,'subject':_subject,'email':_email,'description':_description,'channel':1,'ticketdate':new Date(),'department':'','priority':"3"};
	
        $.ajax({
            url: URL,
            type: 'POST',
            data: dataObject,
            dataType: 'json',
            success: function() {
                document.getElementById("lblsuccess").innerHTML = "Successfully sent your Ticket";
                window.location.replace("https://www.mytrintrin.com/?page_id=4472");
//                document.getElementById("subject").value = '';
//                document.getElementById("description").value = '';
            },
            error:function (error) {
            }
        });
    }
    
</script>
    </body>
</html>


