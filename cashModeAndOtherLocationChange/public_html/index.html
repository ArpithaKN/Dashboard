
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>cashMode Change</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="style_1.css" rel="stylesheet" type="text/css"/>
        <script src="jquery-3.2.0.min.js" type="text/javascript"></script>
        <script src="bootstrap.min.js" type="text/javascript"></script>
        <script src="sweetalert2.js" type="text/javascript"></script>
        <script src="angular.min.js" type="text/javascript"></script>
        <link href="https://cdn.jsdelivr.net/sweetalert2/6.1.0/sweetalert2.css" rel="stylesheet"/>
        <script src="app.js"></script>
    </head>
    <body>
        <div class="container">
            <div ng-app="myApp" ng-controller="customersCtrl">  
                <div id="demo"> <h2>CashMode_Change and OtherLocation_Change</h2></div>
                <ul class="nav nav-pills">
                    <li><a data-toggle="pill" href="#cashmode">CashMode_Change</a></li>
                    <li><a data-toggle="pill" href="#otherlocation">OtherLocation_Change</a></li>
                </ul>
                <div class="tab-content">
                    <div id="cashmode" class="tab-pane fade" style="margin-top:3%">
                        <div id="cashmode1"><form>
        <label for="invoiceno"><b>Invoice Number</b>&nbsp;<span style="color: red">*</span></label>
        <br>
        <input type="text" id="invoiceno" name="userid" placeholder="Enter invoice id" >
        <label id="lblinvoiceno" style="color: red;"></label>
        <br>
        <br>
        <label for="creditamount"><b>Credit Amount</b>&nbsp;<span style="color: red">*</span></label>
        <br>
        <input type="text" id="creditamount" name="userid" placeholder="Enter credit amount" maxlength="10">
        <label id="lblcreditamount" style="color: red;"></label>
        <br>
        <br>
        <label for="paymentMode"><b>Pay Mode</b>&nbsp;<span style="color: red">*</span></label>
        <br>
        <select id="paymentMode" required>
            <option value="">Select Pay Mode</option>
            <option>mone-cash</option>
            <option>Netbanking</option>
            <option>Cash</option>
            <option>Credit Card</option>
            <option>Debit Card</option>
            <option>Cash Card</option>
            <option>Mobile Payemnets</option>
            <option>Wallet</option>
            <option>UPI</option>
            <option>OnDemand</option>
            <option>01</option>
            <option>02</option>
            <option>03</option>
            <option>Wrong Entry</option>
            <option>Duplicate Entry</option>
        </select>
        <label id="lblpaymentMode" style="color: red;"></label>

        <label for="paymentThrough"><b>Payemnt Through</b>&nbsp;<span style="color: red">*</span></label>
        <br>
        <select id="paymentThrough" required>
            <option value="">Select Payment Through</option>
            <option>Payment Gateway</option>
            <option>Cash</option>
            <option>POS</option>
            <option>PayGov</option>
            <option>OnDemand</option>
            <option>mone-cash</option>
            <option>Wrong Entry</option>
            <option>Duplicate Entry</option>
        </select>
        <label id="lblpaymentThrough" style="color: red;"></label>

        <label for="location"><b>Location</b>&nbsp;<span style="color: red">*</span></label>
        <br>
        <select id="location">
            <option value="">Select Location</option>
            <option>RTO Circle</option>
            <option>Mysuru Railway Station</option>
            <option>KSRTC Bus Stand</option>
            <option>City Bus Stand</option>
            <option>Mysuru Palace</option>
            <option>Mysuru Zoo</option>
            <option>Gokulam</option>
            <option>New Sheshadri Iyer Road</option>
            <option>Nazarabad</option>
            <option>Siddarth Layout</option>
            <option>Ramakrishna Nagar</option>
            <option>Krishnamurthypuram</option>
            <option>AndroidApp</option>
            <option>IOS</option>
            <option>UserPortal</option>
            <option>Bulk Registrations</option>
        </select>
        <label id="lblLocation" style="color: red;"></label>
        <br>
        <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="Submit" id="btnSubmit" onclick="myFunction()">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label id="lblsuccess"></label>
        <br>
        <br>
    </form>
                        </div>
                    </div>
                    <div id="otherlocation" class="tab-pane fade" style="margin-top:3%">
                       <form>
        <label for="cardno"><b>Card Number</b>&nbsp;<span style="color: red">*</span></label>
        <br>
        <input type="text" id="cardno" name="cardid" placeholder="Enter card no" >
        <label id="lblcard" style="color: red;"></label>
        <br>
        <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="Submit" id="btnSubmit" onclick="myFunction1()">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label id="lblsuccess"></label>
        <br>
        <br>
    </form>


                    </div>
                </div>
            </div>
        </div>
        <script>
    function myFunction()
    {
        var _invoiceNo = document.getElementById("invoiceno").value;
        var _creditAmount = document.getElementById("creditamount").value;
        var _paymentMode = document.getElementById("paymentMode").value;
        var _paymentThrough = document.getElementById("paymentThrough").value;
        var _location = document.getElementById("location").value;

        if(_invoiceNo == "" || _invoiceNo == null)
        {
            document.getElementById("lblinvoiceno").innerHTML = "Enter Invoice No";
            return false;
        }
        document.getElementById("lblinvoiceno").innerHTML = "";

        if(_creditAmount == "" || _creditAmount == null)
        {
            document.getElementById("lblcreditamount").innerHTML = "Enter Credit Amount";
            return false;
        }
        document.getElementById("lblcreditamount").innerHTML = "";

        if(_paymentMode == "" || _paymentMode == null)
        {
            document.getElementById("lblpaymentMode").innerHTML = "Enter Payment Mode";
            return false;
        }
        document.getElementById("lblpaymentMode").innerHTML = "";

        if(_paymentThrough == "" || _paymentThrough == null)
        {
            document.getElementById("lblpaymentThrough").innerHTML = "Enter Payment Through";
            return false;
        }
        document.getElementById("lblpaymentThrough").innerHTML = "";

        /*if(_location == "" || _location == null)
        {
            document.getElementById("lblLocation").innerHTML = "Enter Location";
            return false;
        }
        document.getElementById("lblLocation").innerHTML = "";*/

        var URL = "https://www.mytrintrin.com:13060/api/paymenttransaction/correction";
        /*var URL = "http://43.251.80.79:13060/api/paymenttransaction/correction";*/

        var dataObject = {'invoiceNo': _invoiceNo,'credit':_creditAmount,'paymentMode':_paymentMode,'paymentThrough':_paymentThrough,'location':_location};

        $.ajax({
            url: URL,
            type: 'PUT',
            data: dataObject,
            dataType: 'json',
            success: function() {
                document.getElementById("lblsuccess").innerHTML = "Successfull";
                document.getElementById("invoiceno").value = '';
                document.getElementById("creditamount").value = '';
                document.getElementById("paymentMode").value = '';
                document.getElementById("paymentThrough").value = '';
                document.getElementById("location").value = '';
            },
            error:function (error) {
            }
        });
    }
    function myFunction1()
    {
        var _card_no = document.getElementById("cardno").value;


        if(_card_no == "" || _card_no == null)
        {
            document.getElementById("lblcard").innerHTML = "Enter card number";
            return false;
        }
        document.getElementById("lblcard").innerHTML = "";

        var URL = "https://www.mytrintrin.com:13060/api/paymenttransaction/correct/all/"+_card_no+"";

        /*var dataObject = {'invoiceNo': _invoiceNo,'credit':_creditAmount,'paymentMode':_paymentMode,'paymentThrough':_paymentThrough,'location':_location};*/

        $.ajax({
            url: URL,
            type: 'PUT',
            /*data: dataObject,*/
            dataType: 'json',
            success: function() {
                document.getElementById("lblsuccess").innerHTML = "Successfull";
                document.getElementById("cardno").value = '';
            },
            error:function (error) {
                document.getElementById("lblsuccess").innerHTML = "Error";
            }
        });
    }
</script>
    </body>
</html>


